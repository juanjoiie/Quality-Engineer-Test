# Quality-Engineer-Test
Repository created and shared for quality engineer position

Currently the repository contains 5 Folders and 11 Files, most of them are generated during the job and transformations executions.

- The required files used for this process are:
Source Files
  * Online Retail - GitHub Scheckley.csv -> This file has been copied from the following GitHub repository 
    - https://github.com/scheckley/online-retail (filename - data.csv) *The file was used for another topic.
      I have deleted half of the records due to GitHub does not allow to upload files over 25MB.
  * Customers.xls - Sample file with simple customer data generated in Mockaroo (https://mockaroo.com/) to be used as a lookup in 
                    transformation.
  * USD -  LocalCurrency.csv - Sample file with local currency rates to USD to be used to calculate total sales in local currency 
           in the transformation.
           
Pentaho Files
  * Job File - ETL_Quality_Engineer_Test.kjb (Comments within the file)
  * Transformations - ETL_Quality_Engineer_Test_Main.ktr and ETL_Quality_Engineer_Test_Export_XLS.ktr (Comments within the files)

Batch file (optional)  
  * ETL_Quality_Engineer_Test.bat - Bat file which uses Kitchen.exe from the Pentaho directory to execute the Pentaho job.
  * BatchJobLog.log - Log file generated after the excecution of batch file ETL_Quality_Engineer_Test

  - The folders and files generated by the process execution are:
    * Input - Input folder contains a copy of the source files in the project folder (it was created to avoid changes in the 
      original files).
    * Output - Output folder contains the generated files after the process execution
    *Logs - Logs folder contains the logs files generated by each transformation separatey.
    
SoapUI Files
  * Testing - Quality Engineer-readyapi-project.xml - Main project file 
  * SoapUI Testing folder - Generated folder which contains all the TESTs for this project.
  * Testing Quality Engineer Report.pdf - Generated report after running all tests (The fail steps were set to validate error messages)
    
** The Database folder is optional; it contains the database connection script, the CREATE TABLE statement in MySQL for the table used 
   to transfer the records and a snapshot of the database table with the loaded data by the process.

Pentaho ETL process

- The process starts by creating the Logs, Input and Output folders (if they do not exist), then the source files in the 
  project folder are copied and pasted in the input file to avoid using the original ones, then the transformations starts and in 
  in parallel the logs files are created, updated and saved in the Logs folder. 
  
  * The first transformation reads the Online Retail data and removes the records that contains empty Customer ids and it generates 
    a txt file with these records which is saved in the Output folder. After that, the Customer ids are replaced by the Customer names 
    through a lookup with the Customer source file, finally the records are aggregated and the dataset are inserted into the 
    sales_summary table.
  * The second transformation creates a MySQL query which joins the sales_summary table with a Country table (sample table in MySQL)
    to retrieve detailed geographical data, then the data is joined with the Local Curreny source data to calculate the sales summary 
    data in local currency, finally a XLS file is generated and exported to the Output folder.
    
SoapUI Testing Process

- All Test Suit and Test Cases are described in the description field within the SoapUI project. See below a brief description of the covered Test Steps.

- Pentaho Job 
	- Batch Job
		* ValidateBatchFile - It checks through a script if the .bat file to launch the Pentaho Job and Trsnsformations exist
		* ExecuteBatchFile - Script which runs the .bat file to start the Pentaho process
- MySQL Database 
	- Attributes
		* NullInvoiceDate - JDBC request to check if there are invalid dates
		* YearInvoiceDate - JDBC request to review the contained years
		* CountryNumber - JDBC request to know the number of countries
		* CountriesList - JDBC request to review the contained countries
		* CustomerNumber - JDBC request to know the number of customers
		* CustomerList - JDBC request to review the contained customer names
	- Measures
		* TotalInvoices - JDBC request to validate if the invoice number are valid (positive number)
		* TotalQty - JDBC request to validate if the quantity products are valid (positive number)
		* TotalDue - JDBC request to validate if the sales values are valid (positive number)
	- Columns
		* ColumnsPositions - JDBC request to check if the db table column are positioned as expected
		* ColumnsCount - JDBC request to check how many columns the db table has as expected
- Imported Files 
	- Input Folder
		* ValidateInputFolder - Script to check if input folder created by the process exists
		* ValidateOnlineRetailFile - Script to check if input csv file was copied by the process 
		* ValidateLocalCurrencyFile - Script to check if input txt file was copied by the process 
		* ValidateCustomerFile - Script to check if input xls file was copied by the process 
	- Input Sources
		* OnlineRetail - Data source step to navigate the csv file
		* Customers - Data source step to navigate the xls file
		* LocalCurrency - Data source step to navigate the txt file
- Exported Files 
	- Output Folder
		* ValidateOutputFolder - Script to check if output folder created by the process exists
		* ValidateEmptyCustomerFile - Script to check if output txt file was generated and exported by the process 
		* ValidateOnlineRetailSummaryFile - Script to check if output xls file was generated and exported by the process 
	- Output Sources
		* EmptyCustomer - Data source step to navigate the txt file
		* EmptyCustomerCountContent - Script which review if exported txt file contains data 
		* OnlineRetalSummary - Data source step to navigate the xls file
		* OnlineRetailCountContent - Script which review if exported xls file contains data
- Logs
	- Pentaho Logs
		* ValidateLogFolder - Script to check if log folder created by the process exists
		* ValidateLogFiles - Script to check if log file was generated and exported successfully by the process
	- Batch Log
		* ValidateBatchLogFile - Script to check if batch log file was generated and exported successfully by the process
